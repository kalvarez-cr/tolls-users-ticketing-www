(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[590],{8094:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/vehicles",function(){return n(7763)}])},1508:function(e,t,n){"use strict";var r=n(5893),a=(n(7294),n(1664)),s=n.n(a),o=n(169);t.Z=function(e){var t=e.title,n=e.data,a=e.icon,l=e.moreInfo;return(0,r.jsxs)("div",{className:"h-36 rounded-xl shadow-md",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-6  bg-white px-6 ".concat(l?"h-4/6 rounded-t-xl":"h-full rounded-xl"),children:[a,(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-gray-600 ".concat(l?"text-md":"text-lg"),children:t}),(0,r.jsx)("h2",{className:"font-medium ".concat(l?"text-xl":"text-2xl"),children:n})]})]}),l?(0,r.jsx)(s(),{href:"/recharges",children:(0,r.jsxs)("div",{className:"flex h-2/6 items-center rounded-b-xl bg-gray-100 px-6 text-emerald-600 decoration-emerald-600 decoration-2 hover:underline",children:[(0,r.jsx)("h4",{className:"text-sm font-normal",children:"M\xe1s informaci\xf3n"}),(0,r.jsx)(o.Z,{className:"h-4 w-4"})]})}):(0,r.jsx)(r.Fragment,{})]})}},9599:function(e,t,n){"use strict";n.d(t,{z:function(){return l}});var r=n(7294),a=n(7345),s=n(3774),o=n(5882),l=function(){var e=(0,a.T)(),t=(0,a.C)(s.pH).loggedIn;(0,r.useEffect)((function(){!t&&e((0,o.bA)())}),[t])}},7763:function(e,t,n){"use strict";n.r(t);var r=n(7568),a=n(4051),s=n.n(a),o=n(5893),l=n(7294),i=n(915),c=n(8232),u=n(5506),d=n(8866),f=n(2450),m=n(8767),h=n(9599),p=n(8860),v=n(7345),x=n(2719),g=n(6442),w=n(9473),k=n(1508),y=function(){(0,h.z)();var e=(0,v.T)(),t=(0,p.b)().requester,n=(0,l.useState)([]),a=n[0],i=n[1],y=(0,m.useQuery)("vehicles",(0,r.Z)(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get("/registered-vehicle/get/");case 2:return n=e.sent.data,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))),b=y.data,E=y.isLoading,j=(0,w.v9)((function(e){var t,n;return null===(t=e.loginUser)||void 0===t||null===(n=t.user_info)||void 0===n?void 0:n.vehicles})),P=(0,m.useMutation)((function(e){return t({method:"POST",data:e,url:"/registered-vehicle/cancel/"})}),{onSuccess:function(e){return e.data.data},onError:function(t){e((0,x.bA)({text:t.response.statusText,type:"error"}))}}).mutate,M=(0,m.useMutation)((function(e){return t({method:"POST",data:e,url:"/registered-vehicle/block/"})}),{onSuccess:function(e){return e.data.data},onError:function(t){e((0,x.bA)({text:t.response.statusText,type:"error"}))}}).mutate,R=function(e){var t=e.currentTarget.dataset.tag;P({id:t})},C=function(e){var t=e.currentTarget.dataset.id;M({id:t})};return(0,l.useEffect)((function(){if(b){var e=b.map((function(e){var t=e.id,n=e.make,r=e.model,a=e.license_plate,s=e.category,l=e.tag_id,i=e.active;return{make:n,model:r,license_plate:a,category_title:s.title,tag_serial:l.tag_serial,enabled:!0,active:i?(0,o.jsxs)("div",{className:"rounded-full bg-green-300/50 py-0.5 text-center text-emerald-600",children:[" ","Activo"," "]}):(0,o.jsxs)("div",{className:" rounded-full bg-red-300/50 py-0.5 text-center text-red-600",children:[" ","Inactivo"," "]}),actions:(0,o.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,o.jsx)("button",{onClick:C,"data-id":t,children:(0,o.jsx)(g.Z,{className:"h-6 ".concat(i?"text-emerald-500/60":"text-red-500/60"," ")})}),(0,o.jsx)("button",{onClick:R,"data-tag":l.id,children:(0,o.jsx)(u.Z,{className:"h-6 text-rose-400"})})]})}}));i(e)}}),[b]),(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("div",{className:"mt-24 w-full ",children:[(0,o.jsxs)("div",{className:"mb-10 space-y-8",children:[(0,o.jsx)("h2",{className:"text-3xl tracking-wide text-gray-800",children:"Veh\xedculos Asociados"}),(0,o.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,o.jsx)(k.Z,{title:"Veh\xedculos",data:j,icon:(0,o.jsx)("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-emerald-500/30",children:(0,o.jsx)(d.Z,{className:"h-9 w-9 text-emerald-600"})}),moreInfo:!1}),(0,o.jsx)(k.Z,{title:"Tag activos",data:"3",icon:(0,o.jsx)("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-amber-500/30",children:(0,o.jsx)("img",{className:"h-9 w-9",src:"/nfc.svg",alt:"tag"})}),moreInfo:!1}),(0,o.jsx)(k.Z,{title:"\xdaltimo uso",data:"10/07/2022",icon:(0,o.jsx)("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-indigo-500/30",children:(0,o.jsx)(f.Z,{className:"h-9 w-9 text-indigo-600"})}),moreInfo:!1})]})]}),(0,o.jsx)(c.Z,{headers:[{id:"1",key:"make",header:"Marca"},{id:"2",key:"model",header:"Modelo"},{id:"3",key:"license_plate",header:"Placa"},{id:"4",key:"category_title",header:"Categor\xeda"},{id:"5",key:"tag_serial",header:"Tag asociado"},{id:"6",key:"active",header:"Habilitado"},{id:"7",key:"actions",header:"Acciones"}],data:a,isLoading:E})]})})};y.getLayout=function(e){return(0,o.jsx)(i.Z,{children:e})},t.default=y},9855:function(e,t,n){"use strict";n.d(t,{p:function(){return T}});var r=n(7294),a=n(2984),s=n(2351),o=n(3784),l=n(9946),i=n(1363),c=n(4103),u=n(6567),d=n(6723);function f(e){var t;if(e.type)return e.type;let n=null!=(t=e.as)?t:"button";return"string"==typeof n&&"button"===n.toLowerCase()?"button":void 0}function m(e,t){let[n,a]=(0,r.useState)((()=>f(e)));return(0,d.e)((()=>{a(f(e))}),[e.type,e.as]),(0,d.e)((()=>{n||!t.current||t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&a("button")}),[n,t]),n}var h,p,v=n(5466),x=n(3781),g=((p=g||{})[p.Open=0]="Open",p[p.Closed=1]="Closed",p),w=((h=w||{})[h.ToggleDisclosure=0]="ToggleDisclosure",h[h.CloseDisclosure=1]="CloseDisclosure",h[h.SetButtonId=2]="SetButtonId",h[h.SetPanelId=3]="SetPanelId",h[h.LinkPanel=4]="LinkPanel",h[h.UnlinkPanel=5]="UnlinkPanel",h);let k={0:e=>({...e,disclosureState:(0,a.E)(e.disclosureState,{0:1,1:0})}),1:e=>1===e.disclosureState?e:{...e,disclosureState:1},4:e=>!0===e.linkedPanel?e:{...e,linkedPanel:!0},5:e=>!1===e.linkedPanel?e:{...e,linkedPanel:!1},2:(e,t)=>e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId},3:(e,t)=>e.panelId===t.panelId?e:{...e,panelId:t.panelId}},y=(0,r.createContext)(null);function b(e){let t=(0,r.useContext)(y);if(null===t){let t=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,b),t}return t}y.displayName="DisclosureContext";let E=(0,r.createContext)(null);function j(e){let t=(0,r.useContext)(E);if(null===t){let t=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,j),t}return t}E.displayName="DisclosureAPIContext";let P=(0,r.createContext)(null);function M(e,t){return(0,a.E)(t.type,k,e,t)}P.displayName="DisclosurePanelContext";let R=r.Fragment,C=(0,s.yV)((function(e,t){let{defaultOpen:n=!1,...i}=e,c=`headlessui-disclosure-button-${(0,l.M)()}`,d=`headlessui-disclosure-panel-${(0,l.M)()}`,f=(0,r.useRef)(null),m=(0,o.T)(t,(0,o.h)((e=>{f.current=e}),void 0===e.as||e.as===r.Fragment)),h=(0,r.useRef)(null),p=(0,r.useRef)(null),g=(0,r.useReducer)(M,{disclosureState:n?0:1,linkedPanel:!1,buttonRef:p,panelRef:h,buttonId:c,panelId:d}),[{disclosureState:w},k]=g;(0,r.useEffect)((()=>k({type:2,buttonId:c})),[c,k]),(0,r.useEffect)((()=>k({type:3,panelId:d})),[d,k]);let b=(0,x.z)((e=>{k({type:1});let t=(0,v.r)(f);if(!t)return;let n=e?e instanceof HTMLElement?e:e.current instanceof HTMLElement?e.current:t.getElementById(c):t.getElementById(c);null==n||n.focus()})),j=(0,r.useMemo)((()=>({close:b})),[b]),P=(0,r.useMemo)((()=>({open:0===w,close:b})),[w,b]),C={ref:m};return r.createElement(y.Provider,{value:g},r.createElement(E.Provider,{value:j},r.createElement(u.up,{value:(0,a.E)(w,{0:u.ZM.Open,1:u.ZM.Closed})},(0,s.sY)({ourProps:C,theirProps:i,slot:P,defaultTag:R,name:"Disclosure"}))))})),N=(0,s.yV)((function(e,t){let[n,a]=b("Disclosure.Button"),l=(0,r.useContext)(P),u=null!==l&&l===n.panelId,d=(0,r.useRef)(null),f=(0,o.T)(d,t,u?null:n.buttonRef),h=(0,x.z)((e=>{var t;if(u){if(1===n.disclosureState)return;switch(e.key){case i.R.Space:case i.R.Enter:e.preventDefault(),e.stopPropagation(),a({type:0}),null==(t=n.buttonRef.current)||t.focus()}}else switch(e.key){case i.R.Space:case i.R.Enter:e.preventDefault(),e.stopPropagation(),a({type:0})}})),p=(0,x.z)((e=>{if(e.key===i.R.Space)e.preventDefault()})),v=(0,x.z)((t=>{var r;(0,c.P)(t.currentTarget)||e.disabled||(u?(a({type:0}),null==(r=n.buttonRef.current)||r.focus()):a({type:0}))})),g=(0,r.useMemo)((()=>({open:0===n.disclosureState})),[n]),w=m(e,d),k=e,y=u?{ref:f,type:w,onKeyDown:h,onClick:v}:{ref:f,id:n.buttonId,type:w,"aria-expanded":e.disabled?void 0:0===n.disclosureState,"aria-controls":n.linkedPanel?n.panelId:void 0,onKeyDown:h,onKeyUp:p,onClick:v};return(0,s.sY)({ourProps:y,theirProps:k,slot:g,defaultTag:"button",name:"Disclosure.Button"})})),S=s.AN.RenderStrategy|s.AN.Static,I=(0,s.yV)((function(e,t){let[n,a]=b("Disclosure.Panel"),{close:l}=j("Disclosure.Panel"),i=(0,o.T)(t,n.panelRef,(()=>{n.linkedPanel||a({type:4})})),c=(0,u.oJ)(),d=null!==c?c===u.ZM.Open:0===n.disclosureState;(0,r.useEffect)((()=>()=>a({type:5})),[a]),(0,r.useEffect)((()=>{var t;1===n.disclosureState&&(null==(t=e.unmount)||t)&&a({type:5})}),[n.disclosureState,e.unmount,a]);let f=(0,r.useMemo)((()=>({open:0===n.disclosureState,close:l})),[n,l]),m=e,h={ref:i,id:n.panelId};return r.createElement(P.Provider,{value:n.panelId},(0,s.sY)({ourProps:h,theirProps:m,slot:f,defaultTag:"div",features:S,visible:d,name:"Disclosure.Panel"}))})),T=Object.assign(C,{Button:N,Panel:I})},2450:function(e,t,n){"use strict";var r=n(7294);const a=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"}))}));t.Z=a},169:function(e,t,n){"use strict";var r=n(7294);const a=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"}))}));t.Z=a},4935:function(e,t,n){"use strict";var r=n(7294);const a=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"}))}));t.Z=a},9065:function(e,t,n){"use strict";var r=n(7294);const a=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"}))}));t.Z=a},8866:function(e,t,n){"use strict";var r=n(7294);const a=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{d:"M9 17a2 2 0 11-4 0 2 2 0 014 0zM19 17a2 2 0 11-4 0 2 2 0 014 0z"}),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1m8-1a1 1 0 01-1 1H9m4-1V8a1 1 0 011-1h2.586a1 1 0 01.707.293l3.414 3.414a1 1 0 01.293.707V16a1 1 0 01-1 1h-1m-6-1a1 1 0 001 1h1M5 17a2 2 0 104 0m-4 0a2 2 0 114 0m6 0a2 2 0 104 0m-4 0a2 2 0 114 0"}))}));t.Z=a},7481:function(e,t,n){"use strict";var r=n(7294);const a=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.268 5.943 14.478 3 10 3a9.958 9.958 0 00-4.512 1.074l-1.78-1.781zm4.261 4.26l1.514 1.515a2.003 2.003 0 012.45 2.45l1.514 1.514a4 4 0 00-5.478-5.478z",clipRule:"evenodd"}),r.createElement("path",{d:"M12.454 16.697L9.75 13.992a4 4 0 01-3.742-3.741L2.335 6.578A9.98 9.98 0 00.458 10c1.274 4.057 5.065 7 9.542 7 .847 0 1.669-.105 2.454-.303z"}))}));t.Z=a},6442:function(e,t,n){"use strict";var r=n(7294);const a=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM7 9a1 1 0 000 2h6a1 1 0 100-2H7z",clipRule:"evenodd"}))}));t.Z=a},4845:function(e,t,n){"use strict";var r=n(7294);const a=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z",clipRule:"evenodd"}))}));t.Z=a},8163:function(e,t,n){"use strict";var r=n(7294);const a=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"}))}));t.Z=a},7568:function(e,t,n){"use strict";function r(e,t,n,r,a,s,o){try{var l=e[s](o),i=l.value}catch(c){return void n(c)}l.done?t(i):Promise.resolve(i).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,s){var o=e.apply(t,n);function l(e){r(o,a,s,l,i,"next",e)}function i(e){r(o,a,s,l,i,"throw",e)}l(void 0)}))}}n.d(t,{Z:function(){return a}})}},function(e){e.O(0,[669,664,915,232,774,888,179],(function(){return t=8094,e(e.s=t);var t}));var t=e.O();_N_E=t}]);