(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[734],{1362:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/recharges",function(){return r(4132)}])},1508:function(e,t,r){"use strict";var a=r(5893),n=(r(7294),r(1664)),s=r.n(n),o=r(169);t.Z=function(e){var t=e.title,r=e.data,n=e.icon,l=e.moreInfo;return(0,a.jsxs)("div",{className:"h-36 rounded-xl shadow-md",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-6  bg-white px-6 ".concat(l?"h-4/6 rounded-t-xl":"h-full rounded-xl"),children:[n,(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-gray-600 ".concat(l?"text-md":"text-lg"),children:t}),(0,a.jsx)("h2",{className:"font-medium ".concat(l?"text-xl":"text-2xl"),children:r})]})]}),l?(0,a.jsx)(s(),{href:"/recharges",children:(0,a.jsxs)("div",{className:"flex h-2/6 items-center rounded-b-xl bg-gray-100 px-6 text-emerald-600 decoration-emerald-600 decoration-2 hover:underline",children:[(0,a.jsx)("h4",{className:"text-sm font-normal",children:"M\xe1s informaci\xf3n"}),(0,a.jsx)(o.Z,{className:"h-4 w-4"})]})}):(0,a.jsx)(a.Fragment,{})]})}},4744:function(e,t,r){"use strict";var a=r(1799),n=r(5893);r(7294);t.Z=function(e){var t=e.label,r=e.type,s=e.name,o=e.register,l=e.errorMessage,c=e.disabled,i=e.defaultValue;return(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("input",(0,a.Z)({id:s,name:s,type:r,className:"peer h-10 w-full border-0 border-b-2 border-gray-300 bg-white/0 text-gray-900 placeholder-transparent focus:outline-none focus:ring-0 ".concat(l?"border-rose-500 focus:border-rose-500":"focus:border-emerald-600"),placeholder:t,disabled:c,defaultValue:i,autoComplete:"off",ref:o},o(s))),(0,n.jsx)("label",{htmlFor:s,className:"absolute left-0 -top-3.5 cursor-text text-sm text-gray-900 transition-all peer-placeholder-shown:top-2 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-focus:-top-3.5 peer-focus:text-sm peer-focus:text-gray-600",children:t}),(0,n.jsx)("label",{htmlFor:s,className:"text-rose absolute left-0 top-11 font-medium",children:l?(0,n.jsxs)("span",{className:"text-sm text-rose-500",children:["(",l,")"]}):null})]})}},6810:function(e,t,r){"use strict";var a=r(1799),n=r(9396),s=r(5893);t.Z=function(e){var t=e.label,r=e.name,o=e.errorMessage,l=e.register,c=e.options,i=e.initialLabelAndValue;return(0,s.jsxs)("div",{className:"relative my-4 flex flex-col",children:[(0,s.jsxs)("label",{className:"absolute left-0 -top-3.5 cursor-text text-sm text-gray-900 transition-all peer-placeholder-shown:top-2 peer-placeholder-shown:text-base peer-placeholder-shown:text-gray-400 peer-focus:-top-3.5 peer-focus:text-sm peer-focus:text-gray-600",children:[t," "]}),(0,s.jsxs)("select",(0,n.Z)((0,a.Z)({},l(r)),{className:"peer h-10 w-full border-0 border-b-2 border-gray-300 bg-white/0 text-gray-900 placeholder-transparent focus:outline-none focus:ring-0 ".concat(o?"border-rose-500 focus:border-rose-500":"focus:border-emerald-600"),children:[(0,s.jsx)("option",{value:(null===i||void 0===i?void 0:i.value)||"",children:(null===i||void 0===i?void 0:i.label)||t}),c.map((function(e){return(0,s.jsx)("option",{value:e.value,children:e.label},e.value)}))]}))]})}},7601:function(e,t,r){"use strict";var a=r(5893),n=r(7294),s=r(1763),o=r(9223),l=r(4744),c=r(6810),i=r(7536),d=r(8767),u=r(2601),m=r(7345),x=r(5496),f=r(4231),h=[{value:"cash",label:"Efectivo"},{value:"debit/credit",label:"D\xe9bito/Cr\xe9dito"},{value:"post-payment",label:"Postpago"}],p=f.Ry().shape({recharge:f.Z_().required("Este campo es requerido"),payment:f.Z_().required("Este campo es requerido")});t.Z=function(e){var t,r,f,g=e.open,v=e.setOpen,b=e.accountNumber,j=(0,m.T)(),y=(0,d.useMutation)((function(e){return(0,u.L)({method:"POST",data:e,url:"/recharge-module/create/"})}),{onSuccess:function(e){var t=e.data;console.log(t),v(!1)},onError:function(e){j(g({text:e.response.statusText,type:"error"}))}}).mutate,_=(0,i.cI)({resolver:(0,x.X)(p)}),N=_.register,w=_.handleSubmit,Z=_.getValues,E=_.watch,M=_.formState.errors;return n.useEffect((function(){Z("payment")}),[E("payment")]),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(s.Z,{open:g,setOpen:v,handleAccept:w((function(e){var t=e.recharge,r=e.payment,a=e.reference;y({facial_amount:t,external_reference_id:a||"123456789012",account_number:b,recharge_id:"9632587410",facial_iso_code:"928",nominal_amount:t,nominal_iso_code:"928",issuer:"recharge",created_from_ip_address:"192.168.1.107",payment:r})})),title:"Recargar",acceptButtonText:"Aceptar",cancelButtonText:"Cancelar",icon:(0,a.jsx)(o.Z,{}),children:(0,a.jsxs)("form",{className:"mt-12",children:[(0,a.jsx)("div",{className:"mt-12",children:(0,a.jsx)(c.Z,{label:"M\xe9todo de pago",name:"payment",options:h,errorMessage:null===(t=M.payment)||void 0===t?void 0:t.message,register:N})}),(0,a.jsx)("div",{className:"mt-12",children:(0,a.jsx)(l.Z,{label:"Monto de recarga",name:"recharge",type:"text",errorMessage:null===(r=M.recharge)||void 0===r?void 0:r.message,register:N})}),"cash"===Z("payment")?null:(0,a.jsx)("div",{className:"mt-12",children:(0,a.jsx)(l.Z,{label:"Referencia",name:"reference",type:"text",errorMessage:null===(f=M.reference)||void 0===f?void 0:f.message,register:N})})]})})})}},9599:function(e,t,r){"use strict";r.d(t,{z:function(){return l}});var a=r(7294),n=r(7345),s=r(3774),o=r(5882),l=function(){var e=(0,n.T)(),t=(0,n.C)(s.pH).loggedIn;(0,a.useEffect)((function(){!t&&e((0,o.bA)())}),[t])}},4132:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Z}});var a=r(603),n=r(5893),s=r(7294),o=r(915),l=r(8232),c=r(9800),i=r(2450),d=r(3390),u=r(9599),m=r(9473),x=r(8860),f=r(8767),h=r(7345),p=r(2719),g=r(7601),v=r(1508),b=r(5675),j=r.n(b),y=r(1664),_=r.n(y),N=function(e){var t=e.image,r=e.href;return(0,n.jsx)(_(),{href:r,children:(0,n.jsx)("div",{className:"flex h-28 cursor-pointer items-center justify-center rounded-xl bg-white px-6 shadow-md",children:(0,n.jsx)(j(),{src:t,height:200,width:200})})})},w=function(){(0,u.z)();var e=(0,h.T)(),t=(0,x.b)().requester,r=(0,a.Z)(s.useState([]),2),o=r[0],b=r[1],j=(0,a.Z)(s.useState(!1),2),y=j[0],_=j[1],w=(0,a.Z)(s.useState(""),1)[0],Z=(0,m.v9)((function(e){var t,r;return null===(t=e.loginUser)||void 0===t||null===(r=t.user_info)||void 0===r?void 0:r.account_number})),E=(0,m.v9)((function(e){var t,r;return null===(t=e.loginUser)||void 0===t||null===(r=t.account_info)||void 0===r?void 0:r.nominal_balance})),M=(0,f.useMutation)((function(e){return t({method:"POST",data:e,url:"recharge-module/get/"})}),{onError:function(t){e((0,p.bA)({text:t.response.statusText,type:"error"}))}}),k=M.mutate,T=M.data,S=M.isLoading;return s.useEffect((function(){k({account_number:Z})}),[Z,k]),s.useEffect((function(){if(T){var e=T.data.data.map((function(e){var t=e.external_reference_id,r=e.facial_amount,a=e.status,s=e.payment_method,o=e.created_on;return{external_reference_id:t,facial_amount:r,payment_method:s,created_on:new Date(o).toLocaleDateString("es-VE"),status:"created"===a?(0,n.jsxs)("div",{className:"w-32 rounded-full bg-green-300/50 py-0.5 text-center text-emerald-600",children:[" ","Exitosa"," "]}):"cancelled"===a?(0,n.jsxs)("div",{className:" w-32 rounded-full bg-red-300/50 py-0.5 text-center text-red-600",children:[" ","Cancelada"," "]}):null}}));b(e)}}),[T]),(0,n.jsxs)(n.Fragment,{children:["recharge"===w?(0,n.jsx)(g.Z,{open:y,setOpen:_,accountNumber:Z}):null,(0,n.jsxs)("div",{className:"mt-24 w-full",children:[(0,n.jsxs)("div",{className:"mb-10 space-y-4",children:[(0,n.jsx)("div",{className:"flex justify-between",children:(0,n.jsx)("h2",{className:"text-3xl tracking-wide text-gray-800",children:"Recargas"})}),(0,n.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,n.jsx)(N,{image:"/metodos-de-pago-01.svg",href:"/bankdv"}),(0,n.jsx)(N,{image:"/metodos-de-pago-02.svg",href:""}),(0,n.jsx)(N,{image:"/metodos-de-pago-03.svg",href:"/mobilePay"}),(0,n.jsx)(v.Z,{title:"Saldo actual",data:"Bs ".concat(E),icon:(0,n.jsx)("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-emerald-500/30",children:(0,n.jsx)(c.Z,{className:"h-9 w-9 text-emerald-600"})}),moreInfo:!1}),(0,n.jsx)(v.Z,{title:"\xdaltima recarga",data:"10/07/2022",icon:(0,n.jsx)("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-amber-500/30",children:(0,n.jsx)(i.Z,{className:"h-9 w-9 text-amber-600"})}),moreInfo:!1}),(0,n.jsx)(v.Z,{title:"Monto de \xfaltima recarga",data:"Bs 10",icon:(0,n.jsx)("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-indigo-500/30",children:(0,n.jsx)(d.Z,{className:"h-9 w-9 rotate-90 text-indigo-600"})}),moreInfo:!1})]})]}),(0,n.jsx)(l.Z,{headers:[{id:"1",key:"created_on",header:"Fecha"},{id:"2",key:"external_reference_id",header:"Referencia"},{id:"3",key:"facial_amount",header:"Monto"},{id:"4",key:"payment_method",header:"M\xe9todo de pago"},{id:"5",key:"status",header:"Estado"}],data:o,isLoading:S})]})]})};w.getLayout=function(e){return(0,n.jsx)(o.Z,{children:e})};var Z=w},2601:function(e,t,r){"use strict";r.d(t,{L:function(){return n}});var a=r(9669),n=r.n(a)().create({withCredentials:!0,baseURL:"http://api.user-toll-qa.local:10088/api/",headers:{}})}},function(e){e.O(0,[669,664,536,978,933,915,232,774,888,179],(function(){return t=1362,e(e.s=t);var t}));var t=e.O();_N_E=t}]);